"use strict";(self.webpackChunkreact_developer_way_blogging=self.webpackChunkreact_developer_way_blogging||[]).push([[135],{5486:function(e,n,r){r.d(n,{Z:function(){return g}});var t,a,i,o,s=r(1413),l=r(5987),c=r(168),d=(r(2791),r(6031)),u=r(3504),m=r(184),h=d.ZP.div(t||(t=(0,c.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),p=function(e){var n=e.size,r=void 0===n?"40px":n,t=e.borderSize,a=void 0===t?"5px":t;return(0,m.jsx)(h,{size:r,borderSize:a})},f=["type","onClick","children","kind"],x=d.ZP.button(a||(a=(0,c.Z)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 18px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(e){return e.height||"66px"}),(function(e){return"secondary"===e.kind&&(0,d.iv)(i||(i=(0,c.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(e){return e.theme.primary}))}),(function(e){return"primary"===e.kind&&(0,d.iv)(o||(o=(0,c.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))})),g=function(e){var n=e.type,r=void 0===n?"button":n,t=e.onClick,a=void 0===t?function(){}:t,i=e.children,o=e.kind,c=void 0===o?"primary":o,d=(0,l.Z)(e,f),h=d.isLoading,g=d.to,v=h?(0,m.jsx)(p,{}):i;return""!==g&&"string"===typeof g?(0,m.jsx)(u.OL,{to:g,style:{display:"inline-block"},children:(0,m.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:c},d),{},{children:v}))}):(0,m.jsx)(x,(0,s.Z)((0,s.Z)({type:r,kind:c,onClick:a},d),{},{children:v}))}},8119:function(e,n,r){var t=r(1413),a=r(5987),i=(r(2791),r(1134)),o=r(184),s=["checked","children","control","name"];n.Z=function(e){var n=e.checked,r=e.children,l=e.control,c=e.name,d=(0,a.Z)(e,s),u=(0,i.bc)({control:l,name:c,defaultValue:""}).field;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,t.Z)((0,t.Z)({checked:n,type:"radio",className:"hidden-input"},u),d)),(0,o.jsxs)("div",{className:"flex items-center font-medium cursor-pointer gap-x-3",children:[(0,o.jsx)("div",{className:"w-7 h-7 rounded-full border flex items-center justify-center p-1  ".concat(n?"bg-green-600 border-primary text-white":"border-gray-200 text-transparent"),children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,o.jsx)("span",{children:r})]})]})}},6356:function(e,n,r){var t,a=r(168),i=(r(2791),r(6031)),o=r(184),s=i.ZP.div(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: 20px;\n  margin-bottom: 40px;\n  z-index: 10;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"])));n.Z=function(e){var n=e.children;return(0,o.jsx)(s,{children:n})}},3894:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.children;return(0,t.jsx)("div",{className:"flex flex-wrap justify-between gap-3",children:n})}},9248:function(e,n,r){var t,a=r(1413),i=r(5987),o=r(168),s=(r(2791),r(1134)),l=r(6031),c=r(184),d=["name","type","children","control"],u=l.ZP.div(t||(t=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    padding: ",";\n    outline: none;\n    background-color: ",";\n    border-radius: 8px;\n    width: 100%;\n    font-weight: 500;\n    border: 1px solid transparent;\n    transition: all 0.2s linear;\n  }\n  input::-webkit-input-placeholder {\n    color: #84878b;\n  }\n  input::-moz-input-placeholder {\n    color: #84878b;\n  }\n  input:focus {\n    background-color: white;\n    border-color: ",";\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"16px 60px 16px 20px":"16px 20px"}),(function(e){return e.theme.grayLight}),(function(e){return e.theme.primary}));n.Z=function(e){var n=e.name,r=void 0===n?"":n,t=e.type,o=void 0===t?"text":t,l=e.children,m=e.control,h=(0,i.Z)(e,d),p=(0,s.bc)({name:r,control:m,defaultValue:""}).field;return(0,c.jsxs)(u,{hasIcon:!!l,children:[(0,c.jsx)("input",(0,a.Z)((0,a.Z)({id:r,type:o},p),h)),l?(0,c.jsx)("div",{className:"input-icon",children:l}):null]})}},2346:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(885),a=r(2791),i=r(184),o=function(e){var n=e.className,r=void 0===n?"":n,t=e.onClick,a=void 0===t?function(){}:t;return(0,i.jsx)("span",{className:r,onClick:a,children:(0,i.jsxs)("svg",{width:"22",height:"14",viewBox:"0 0 22 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M14.5 1.62156C16.8312 2.50868 18.7928 4.24569 20.5245 6.37837C20.8098 6.72982 20.8099 7.23217 20.5245 7.58361C17.9889 10.7065 14.96 12.981 11 12.981C7.04003 12.981 4.01115 10.7065 1.4755 7.58361C1.19014 7.23216 1.19016 6.72981 1.47551 6.37837C3.69735 3.64197 6.29789 1.55697 9.5717 1.0828C9.75303 1.05654 9.93641 1.03522 10.1219 1.019L10.561 1",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13.5 6.98096C13.5 8.36167 12.3807 9.48096 11 9.48096C9.61929 9.48096 8.5 8.36167 8.5 6.98096C8.5 5.60025 9.61929 4.48096 11 4.48096C12.3807 4.48096 13.5 5.60025 13.5 6.98096Z",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})})},s=function(e){var n=e.className,r=void 0===n?"":n,t=e.onClick,a=void 0===t?function(){}:t;return(0,i.jsx)("span",{className:r,onClick:a,children:(0,i.jsxs)("svg",{width:"22",height:"20",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M13.5356 8.46454C13.7677 8.69669 13.9519 8.97229 14.0775 9.27561C14.2032 9.57892 14.2678 9.90401 14.2678 10.2323C14.2678 10.5606 14.2031 10.8857 14.0775 11.189C13.9518 11.4923 13.7677 11.7679 13.5355 12.0001C13.3034 12.2322 13.0278 12.4164 12.7245 12.542C12.4211 12.6676 12.0961 12.7323 11.7678 12.7323C11.4394 12.7323 11.1144 12.6676 10.811 12.5419C10.5077 12.4163 10.2321 12.2322 10 12",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M11 4C7.04003 4 4.01115 6.27449 1.4755 9.39738C1.19014 9.74883 1.19009 10.2511 1.47544 10.6025C2.18711 11.479 2.93763 12.2887 3.73669 13M6.74043 15.0348C8.03446 15.6495 9.44549 16 11 16C11.2884 16 11.5719 15.9879 11.8507 15.9643L12.2607 15.9122M15.7029 5.18844C17.5178 6.15443 19.0991 7.64187 20.5245 9.39741C20.8099 9.74885 20.8099 10.2512 20.5245 10.6026C19.1774 12.2617 17.6911 13.6813 16 14.6476",stroke:"#999999",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M19.1217 1.11547L1.9998 18.9996",stroke:"#999999",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},l=r(9248),c=function(e){var n=e.control,r=(0,a.useState)(!1),c=(0,t.Z)(r,2),d=c[0],u=c[1];return(0,i.jsx)(a.Fragment,{children:(0,i.jsx)(l.Z,{type:d?"text":"password",name:"password",placeholder:"Enter your password",control:n,children:d?(0,i.jsx)(o,{onClick:function(){return u(!1)}}):(0,i.jsx)(s,{onClick:function(){return u(!0)}})})})}},3453:function(e,n,r){var t,a=r(1413),i=r(168),o=(r(2791),r(6031)),s=r(184),l=o.ZP.label(t||(t=(0,i.Z)(["\n  color: ",";\n  font-weight: 600;\n  line-height: 30px;\n  cursor: pointer;\n"])),(function(e){return e.theme.grayDark}));n.Z=function(e){var n=e.htmlFor,r=void 0===n?"":n,t=e.children,i=e.props;return(0,s.jsx)(l,(0,a.Z)((0,a.Z)({htmlFor:r},i),{},{children:t}))}},6843:function(e,n,r){var t=r(1413),a=r(5987),i=r(2791),o=r(184),s=["name","className","progress","image","handleDeleteImage"];n.Z=function(e){var n=e.name,r=e.className,l=void 0===r?"":r,c=e.progress,d=void 0===c?0:c,u=e.image,m=void 0===u?"":u,h=e.handleDeleteImage,p=void 0===h?function(){}:h,f=(0,a.Z)(e,s);return(0,o.jsxs)("label",{className:"cursor-pointer flex items-center justify-center border border-dashed w-full min-h-[200px] rounded-lg ".concat(l," relative overflow-hidden group"),children:[(0,o.jsx)("input",(0,t.Z)({type:"file",name:n,className:"hidden-input",onChange:function(){}},f)),0!==d&&!m&&(0,o.jsx)("div",{className:"absolute z-10 w-16 h-16 border-8 border-green-500 rounded-full loading border-t-transparent animate-spin"}),!m&&0===d&&(0,o.jsxs)("div",{className:"flex flex-col items-center text-center pointer-events-none",children:[(0,o.jsx)("img",{src:"/img-upload.png",alt:"upload-img",className:"max-w-[80px] mb-5"}),(0,o.jsx)("p",{className:"font-semibold",children:"Choose photo"})]}),m&&(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("img",{src:m,className:"object-cover w-full h-full",alt:""}),(0,o.jsx)("button",{type:"button",className:"absolute z-10 flex items-center justify-center invisible w-16 h-16 text-red-500 transition-all bg-white rounded-full opacity-0 cursor-pointer group-hover:opacity-100 group-hover:visible",onClick:p,children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),!m&&(0,o.jsx)("div",{className:"absolute bottom-0 left-0 w-10 h-1 transition-all bg-green-400 image-upload-progress",style:{width:"".concat(Math.ceil(d),"%")}})]})}},1776:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(885),a=r(2791),i=r(4453);function o(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=(0,i.cF)(),l=(0,a.useState)(0),c=(0,t.Z)(l,2),d=c[0],u=c[1],m=(0,a.useState)(""),h=(0,t.Z)(m,2),p=h[0],f=h[1];if(n&&e){var x=function(n){var r=n.target.files[0];g(r),r&&e("image_name",r.name)},g=function(e){var n=(0,i.iH)(s,"images/"+e.name),r=(0,i.B0)(n,e);r.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(u(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Notthing at all")}}),(function(e){console.log("Error")}),(function(){(0,i.Jt)(r.snapshot.ref).then((function(e){console.log("File available at",e),f(e)}))}))},v=function(e){var t=(0,i.cF)(),a=(0,i.iH)(t,"images/"+(r||n("image_name")));(0,i.oq)(a).then((function(){console.log("Delete image successfully"),f(""),u(0),o&&o()})).catch((function(e){console.log("Can not delete image"),f("")}))},b=function(){f(""),u(0)};return{progress:d,image:p,setImage:f,handleSelectImage:x,handleDeleteImage:v,handleResetUpload:b}}}},8322:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,a=e.desc,i=void 0===a?"":a,o=e.children;return(0,t.jsxs)("div",{className:"flex items-start justify-between mb-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:i})]}),o]})}},2135:function(e,n,r){r.r(n);var t=r(5861),a=r(7757),i=r.n(a),o=r(2791),s=r(1134),l=r(6871),c=r(5486),d=r(8119),u=r(6356),m=r(3894),h=r(9248),p=r(2346),f=r(3453),x=r(3585),g=r(8322),v=r(1724),b=r(4695),j=r(577),w=r(289),Z=r(333),k=r.n(Z),y=r(9062),N=r(1453),C=r(1776),L=r(6843),I=r(184),S=v.Ry({fullname:v.Z_().required("Please enter your name"),email:v.Z_().email("Please valid email").required("Please enter your email address"),password:v.Z_().required("Please Enter your password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character")});n.default=function(){var e=(0,l.TH)().state,n=e.id,r=(0,s.cI)({mode:"onChange",defaultValues:{fullname:"",username:"",email:"",password:"",status:1,role:3},resolver:(0,b.X)(S)}),a=r.control,v=r.handleSubmit,Z=r.watch,E=r.setValue,M=r.getValues,U=r.reset,A=r.formState,z=A.errors,F=A.isValid,D=A.isSubmitting,P=M("avatar"),_=/%2F(\S+)\?/gm.exec(P),B=(null===_||void 0===_?void 0:_.length)>0?_[1]:"",V=(0,C.Z)(E,M,B,(function(){return q.apply(this,arguments)})),O=V.image,Q=V.setImage,W=V.progress,R=V.handleSelectImage,T=V.handleDeleteImage,J=V.handleResetUpload;function q(){return(q=(0,t.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,y.JU)(N.F,"users",n),e.next=3,(0,y.r7)(r,{avatar:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,o.useEffect)((function(){Q(P)}),[P,Q]),(0,o.useEffect)((function(){var e=Object.values(z);e.length>0&&j.Am.error(e[0].message)}),[z]),(0,o.useEffect)((function(){if("edit"===e.action){var r=function(){var e=(0,t.Z)(i().mark((function e(){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=(0,y.JU)(N.F,"users",n),e.next=5,(0,y.QT)(r);case 5:t=e.sent,U(t&&t.data());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}}),[n,U,e.action]);var H=Z("status"),G=Z("role"),X=function(){var n=(0,t.Z)(i().mark((function n(r){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(F){n.next=2;break}return n.abrupt("return");case 2:if(n.prev=2,"add"!==e.action){n.next=10;break}return n.next=6,(0,w.Xb)(N.I,r.email,r.password);case 6:return n.next=8,(0,y.ET)((0,y.hJ)(N.F,"users"),{fullname:r.fullname,email:r.email,password:r.password,username:k()(r.username||r.fullname,{lower:!0}),avatar:O,status:Number(r.status),role:Number(r.role),createdAt:(0,y.Bt)()});case 8:n.next=14;break;case 10:if("edit"!==e.action){n.next=14;break}return t=(0,y.JU)(N.F,"users",e.id),n.next=14,(0,y.r7)(t,{fullname:r.fullname,email:r.email,password:r.password,username:k()(r.username||r.fullname,{lower:!0}),avatar:O,status:Number(r.status),role:Number(r.role)});case 14:j.Am.success("add"===e.action?"Create user ".concat(r.fullname," successfully"):"Update user ".concat(r.fullname," successfully")),U({fullname:"",username:"",email:"",password:"",status:1,role:3}),J(),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(2),console.log("\ud83d\ude80  error",n.t0);case 22:case"end":return n.stop()}}),n,null,[[2,19]])})));return function(e){return n.apply(this,arguments)}}();return(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)(g.Z,{title:"edit"===e.action?"Update user":"Add new user",desc:"edit"===e.action?"Update user id: ".concat(e.id):"Add new user"}),(0,I.jsxs)("form",{onSubmit:v(X),children:[(0,I.jsx)("div",{className:"w-[200px] h-[200px] mx-auto mb-10 rounded-full",children:(0,I.jsx)(L.Z,{onChange:R,className:"!rounded-full h-full",progress:W,image:O,handleDeleteImage:T})}),(0,I.jsxs)("div",{className:"form-layout",children:[(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"Fullname"}),(0,I.jsx)(h.Z,{name:"fullname",placeholder:"Enter your fullname",control:a})]}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"UserName"}),(0,I.jsx)(h.Z,{name:"username",placeholder:"Enter your username",control:a})]})]}),(0,I.jsxs)("div",{className:"form-layout",children:[(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"Email address"}),(0,I.jsx)(h.Z,{type:"email",name:"email",placeholder:"Enter your email",control:a})]}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"Password"}),(0,I.jsx)(p.Z,{control:a})]})]}),(0,I.jsxs)("div",{className:"form-layout",children:[(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"Status"}),(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(d.Z,{name:"status",control:a,checked:Number(H)===x.iQ.ACTIVE,value:Number(x.iQ.ACTIVE),children:"Active"}),(0,I.jsx)(d.Z,{name:"status",control:a,checked:Number(H)===x.iQ.PENDING,value:Number(x.iQ.PENDING),children:"Pending"}),(0,I.jsx)(d.Z,{name:"status",control:a,checked:Number(H)===x.iQ.BAN,value:Number(x.iQ.BAN),children:"Banned"})]})]}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(f.Z,{children:"Role"}),(0,I.jsxs)(m.Z,{children:[(0,I.jsx)(d.Z,{name:"role",control:a,checked:Number(G)===x.xZ.ADMIN,value:Number(x.xZ.ADMIN),children:"Admin"}),(0,I.jsx)(d.Z,{name:"role",control:a,checked:Number(G)===x.xZ.MOD,value:Number(x.xZ.MOD),children:"Moderator"}),(0,I.jsx)(d.Z,{name:"role",control:a,checked:Number(G)===x.xZ.USER,value:Number(x.xZ.USER),children:"User"})]})]})]}),(0,I.jsx)(c.Z,{type:"submit",className:"mx-auto w-[250px]",isLoading:D,disabled:D,children:"edit"===e.action?"Update User":"Add new user"})]})]})}}}]);
//# sourceMappingURL=135.3f461ede.chunk.js.map