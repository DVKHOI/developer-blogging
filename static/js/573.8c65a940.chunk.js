"use strict";(self.webpackChunkreact_developer_way_blogging=self.webpackChunkreact_developer_way_blogging||[]).push([[573],{5768:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},2181:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}},6785:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}},5486:function(n,e,r){r.d(e,{Z:function(){return m}});var t,i,o,s,a=r(1413),c=r(5987),d=r(168),l=(r(2791),r(6031)),u=r(3504),h=r(184),f=l.ZP.div(t||(t=(0,d.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.borderSize}),(function(n){return n.borderSize}),(function(n){return n.borderSize})),x=function(n){var e=n.size,r=void 0===e?"40px":e,t=n.borderSize,i=void 0===t?"5px":t;return(0,h.jsx)(f,{size:r,borderSize:i})},p=["type","onClick","children","kind"],v=l.ZP.button(i||(i=(0,d.Z)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 18px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(n){return n.height||"66px"}),(function(n){return"secondary"===n.kind&&(0,l.iv)(o||(o=(0,d.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"primary"===n.kind&&(0,l.iv)(s||(s=(0,d.Z)(["\n      color: white;\n      background-image: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(n){return n.theme.primary}),(function(n){return n.theme.secondary}))})),m=function(n){var e=n.type,r=void 0===e?"button":e,t=n.onClick,i=void 0===t?function(){}:t,o=n.children,s=n.kind,d=void 0===s?"primary":s,l=(0,c.Z)(n,p),f=l.isLoading,m=l.to,g=f?(0,h.jsx)(x,{}):o;return""!==m&&"string"===typeof m?(0,h.jsx)(u.OL,{to:m,style:{display:"inline-block"},children:(0,h.jsx)(v,(0,a.Z)((0,a.Z)({type:r,kind:d},l),{},{children:g}))}):(0,h.jsx)(v,(0,a.Z)((0,a.Z)({type:r,kind:d,onClick:i},l),{},{children:g}))}},2753:function(n,e,r){var t,i=r(168),o=(r(2791),r(6031)),s=r(184),a=o.ZP.span(t||(t=(0,i.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"])));e.Z=function(n){var e=n.children,r=n.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,s.jsx)(a,{className:t,children:e})}},1538:function(n,e,r){r.r(e);var t,i=r(168),o=(r(2791),r(6031)),s=r(184),a=o.ZP.div(t||(t=(0,i.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));e.default=function(n){var e=n.children;return(0,s.jsx)(a,{children:(0,s.jsx)("table",{children:e})})}},8295:function(n,e,r){r(2791);var t=r(3504),i=r(184);e.Z=function(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"You are not allowed to access this page "}),(0,i.jsx)(t.OL,{to:"/dashboard",className:"inline-block px-6 py-3 mt-3 font-semibold text-white bg-blue-400 rounded-lg",children:"Back to dashboard"})]})}},8322:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.title,r=void 0===e?"":e,i=n.desc,o=void 0===i?"":i,s=n.children;return(0,t.jsxs)("div",{className:"flex items-start justify-between mb-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:o})]}),s]})}},8573:function(n,e,r){r.r(e);var t=r(2982),i=r(1413),o=r(5861),s=r(885),a=r(7757),c=r.n(a),d=r(9062),l=r(2791),u=r(6871),h=r(1830),f=r.n(h),x=r(5768),p=r(2181),v=r(6785),m=r(5486),g=r(2753),j=r(1538),b=r(1665),y=r(1453),w=r(3585),k=r(8295),Z=r(8322),C=r(184);e.default=function(){var n=(0,l.useState)(""),e=(0,s.Z)(n,2),r=e[0],a=e[1],h=(0,u.s0)(),N=(0,l.useState)([]),L=(0,s.Z)(N,2),z=L[0],S=L[1],O=(0,l.useState)(""),I=(0,s.Z)(O,2),M=I[0],A=I[1],B=(0,l.useState)(0),P=(0,s.Z)(B,2),E=P[0],U=P[1],D=(0,b.a)().userInfo;if((0,l.useEffect)((function(){function n(){return(n=(0,o.Z)(c().mark((function n(){var e,t,o,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,d.hJ)(y.F,"users"),t=r?(0,d.IO)(e,(0,d.ar)("fullname",">=",r),(0,d.ar)("fullname","<=",r+"utf8")):(0,d.IO)(e,(0,d.b9)(3)),n.next=4,(0,d.PL)(t);case 4:o=n.sent,s=o.docs[o.docs.length-1],A(s),(0,d.cf)(t,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),S(e)})),(0,d.cf)(e,(function(n){U(n.size)}));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}(),document.title="User Manage"}),[r]),D.role!==w.xZ.ADMIN)return(0,C.jsx)(k.Z,{});var _=function(){var n=(0,o.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(0,d.JU)(y.F,"users",e),f().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,o.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed){n.next=4;break}return n.next=3,(0,d.oe)(r);case 3:f().fire("Deleted!","Your file has been deleted.","success");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Q=function(){var n=(0,o.Z)(c().mark((function n(){var e,r,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,d.IO)((0,d.hJ)(y.F,"users"),(0,d.TQ)(M),(0,d.b9)(3)),(0,d.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),S([].concat((0,t.Z)(z),e))})),n.next=4,(0,d.PL)(e);case 4:r=n.sent,o=r.docs[r.docs.length-1],A(o);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(n){switch(n){case w.xZ.ADMIN:return(0,C.jsx)(g.Z,{type:"default",children:"Admin"});case w.xZ.MOD:return(0,C.jsx)(g.Z,{type:"default",children:"Mod"});case w.xZ.USER:return(0,C.jsx)(g.Z,{type:"default",children:"User"});default:return null}},F=function(n){switch(n){case w.iQ.ACTIVE:return(0,C.jsx)(g.Z,{type:"success",children:"Active"});case w.iQ.PENDING:return(0,C.jsx)(g.Z,{type:"warning",children:"Pending"});case w.iQ.BAN:return(0,C.jsx)(g.Z,{type:"danger",children:"Banned"});default:return null}};return(0,C.jsxs)("div",{children:[(0,C.jsx)(Z.Z,{title:"User",desc:"Manage User",children:(0,C.jsx)(m.Z,{kind:"secondary",height:"56px",onClick:function(){return h("/manage/add-user",{state:{action:"add"}})},children:"Create User"})}),(0,C.jsx)("div",{className:"flex items-center justify-end mb-5 mr-5 search",children:(0,C.jsx)("input",{type:"text",className:"p-3 border border-gray-200 rounded-lg ",placeholder:"Search",onChange:function(n){return a(n.target.value)}})}),(0,C.jsxs)(j.default,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Id"}),(0,C.jsx)("th",{children:"Info"}),(0,C.jsx)("th",{children:"Username"}),(0,C.jsx)("th",{children:"Email"}),(0,C.jsx)("th",{children:"Role"}),(0,C.jsx)("th",{children:"Status"}),(0,C.jsx)("th",{children:"Action"})]})}),(0,C.jsx)("tbody",{children:null===z||void 0===z?void 0:z.map((function(n){var e;return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{children:n.id.slice(0,5)+"..."}),(0,C.jsx)("td",{children:(0,C.jsxs)("div",{className:"flex gap-x-3 ",children:[(0,C.jsx)("img",{src:null===n||void 0===n?void 0:n.avatar,alt:"",className:"object-cover w-10 h-10 rounded-full"}),(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsx)("span",{className:"font-semibold",children:null===n||void 0===n?void 0:n.fullname}),(0,C.jsx)("span",{className:"text-sm text-gray-300",children:new Date(1e3*(null===n||void 0===n||null===(e=n.createdAt)||void 0===e?void 0:e.seconds)).toLocaleDateString("vi-VI")})]})]})}),(0,C.jsx)("td",{children:null===n||void 0===n?void 0:n.username}),(0,C.jsx)("td",{children:(null===n||void 0===n?void 0:n.email.slice(0,5))+"..."}),(0,C.jsx)("td",{children:Y(null===n||void 0===n?void 0:n.role)}),(0,C.jsx)("td",{children:F(null===n||void 0===n?void 0:n.status)}),(0,C.jsx)("td",{children:(0,C.jsxs)("div",{className:"flex items-center justify-start gap-x-3",children:[(0,C.jsx)(v.Z,{}),(0,C.jsx)(p.Z,{onClick:function(){return h("/manage/add-user",{state:{id:n.id,action:"edit"}})}}),(0,C.jsx)(x.Z,{onClick:function(){return _(n.id)}})]})})]},n.id)}))})]}),E>z.length&&(0,C.jsx)("div",{className:"mt-10",children:(0,C.jsx)(m.Z,{onClick:Q,className:"mx-auto",children:"Load more"})})]})}},5987:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(3366);function i(n,e){if(null==n)return{};var r,i,o=(0,t.Z)(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}},3366:function(n,e,r){function t(n,e){if(null==n)return{};var r,t,i={},o=Object.keys(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||(i[r]=n[r]);return i}r.d(e,{Z:function(){return t}})}}]);
//# sourceMappingURL=573.8c65a940.chunk.js.map